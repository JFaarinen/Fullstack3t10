(window.webpackJsonppuhelinluettelo=window.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),u=n(13),a=n.n(u),l=n(2),c=function(e){var t=e.henkilo,n=e.poisto,i=t.id;return o.a.createElement("li",null,t.nimi,", ",t.puh," ",o.a.createElement("button",{onClick:function(){return n({id:i})}},"Poista"))},r=function(e){var t=e.henkilot,n=e.hakuEhto,i=e.poisto;return n.length>0?t.filter((function(e){return e.nimi.toLowerCase().includes(n.toLowerCase())})).map((function(e){return o.a.createElement(c,{key:e.id,henkilo:e,poisto:i})})):t.map((function(e){return o.a.createElement(c,{key:e.id,henkilo:e,poisto:i})}))},m=n(3),s=n.n(m),f="/api/Henkilot",d=function(){return s.a.get(f)},h=function(e){return s.a.post(f,e)},v=function(e){var t=e.id;return s.a.delete(f+"/"+t)},p=function(e){return s.a.put(f+"/"+e.id,e)},E=function(e){var t=e.viesti;return null===t?null:o.a.createElement("div",{className:"ilmoitus"},t)},k=(n(36),function(e){var t=Object(i.useState)([]),n=Object(l.a)(t,2),u=n[0],a=n[1],c=Object(i.useState)(""),m=Object(l.a)(c,2),s=m[0],f=m[1],k=Object(i.useState)(""),b=Object(l.a)(k,2),g=b[0],j=b[1],w=Object(i.useState)(""),O=Object(l.a)(w,2),y=O[0],C=O[1],S=Object(i.useState)(null),L=Object(l.a)(S,2),N=L[0],T=L[1];Object(i.useEffect)((function(){d().then((function(e){console.log("Henkil\xf6tiedot noudettu"),a(e.data)}))}),[]);var H=function(){d().then((function(e){a(e.data)}))};return o.a.createElement("div",null,o.a.createElement("h2",null,"Puhelinmuistio"),o.a.createElement("div",null,"Hae yhteystiedoista: ",o.a.createElement("input",{value:y,onChange:function(e){console.log(e.target.value),C(e.target.value)}})),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=u.filter((function(e){return e.nimi===s}));if(t.length>0){if(window.confirm("Nimi ".concat(s," on jo luettelossa, p\xe4ivitet\xe4\xe4nk\xf6 tiedot?"))){var n={nimi:t[0].nimi,numero:g,id:t[0].id};p(n).then((function(e){H(),T("Henkil\xf6n ".concat(s," tiedot p\xe4ivitetty")),setTimeout((function(){T(null)}),5e3)})).catch((function(e){T("Virhe: henkil\xf6 poistettu"),setTimeout((function(){T(null)}),5e3)}))}}else h({nimi:s,puh:g}).then((function(e){H(),T("Lis\xe4tty ".concat(s," ").concat(g)),setTimeout((function(){T(null)}),5e3)}));f(""),j("")}},o.a.createElement("h3",null,"Lis\xe4\xe4 yhteystieto"),o.a.createElement("div",null,"Nimi:   ",o.a.createElement("input",{value:s,onChange:function(e){console.log(e.target.value),f(e.target.value)}})),o.a.createElement("div",null,"Numero: ",o.a.createElement("input",{value:g,onChange:function(e){console.log(e.target.value),j(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Lis\xe4\xe4"))),o.a.createElement(E,{viesti:N}),o.a.createElement("h3",null,"Numerot"),o.a.createElement("ul",null,o.a.createElement(r,{henkilot:u,hakuEhto:y,poisto:function(e){var t=e.id;window.confirm("Poistetaanko henkil\xf6n tiedot?")&&(v({id:t}).then((function(e){H()})),T("Tiedot poistettu"),setTimeout((function(){T(null)}),5e3))}})))});a.a.render(o.a.createElement(k,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6f777ff4.chunk.js.map