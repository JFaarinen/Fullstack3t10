{"version":3,"sources":["components/HenkilonTiedot.js","components/NaytaHenkilot.js","services/henkiloKasittely.js","components/Ilmoitus.js","App.js","index.js"],"names":["HenkilonTiedot","henkilo","poisto","id","nimi","puh","onClick","NaytaHenkilot","henkilot","hakuEhto","length","filter","toLowerCase","includes","map","key","kantaUrl","axios","get","uusiHenkilo","post","delete","put","Ilmoitus","viesti","className","App","props","useState","setHenkilot","uusiNimi","setUusiNimi","uusiNumero","setUusiNumero","setHakuEhto","ilmoitukset","setIlmoitukset","useEffect","HenkiloKasittely","then","response","console","log","data","paivitaNaytto","value","onChange","event","target","onSubmit","preventDefault","henkiloJoListassa","window","confirm","numero","setTimeout","catch","error","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6f777ff4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n  \r\nconst HenkilonTiedot = ({henkilo, poisto}) => {\r\n  const id = henkilo.id\r\n  return(\r\n    <li>{henkilo.nimi}, {henkilo.puh} <button onClick={() => poisto({id})}>Poista</button></li>)\r\n}\r\n\r\nexport default HenkilonTiedot","import React from 'react'\r\nimport HenkilonTiedot from './HenkilonTiedot'\r\n\r\n\r\nconst NaytaHenkilot = ({henkilot, hakuEhto, poisto}) => {\r\n  let suodatetutTiedot\r\n  if (hakuEhto.length > 0) {\r\n    suodatetutTiedot = henkilot.filter(henkilo => \r\n      henkilo.nimi.toLowerCase().includes(hakuEhto.toLowerCase()))\r\n    return (suodatetutTiedot.map(henkilo => <HenkilonTiedot key={henkilo.id} \r\n      henkilo={henkilo} poisto={poisto}/>))\r\n  }\r\n  else suodatetutTiedot = henkilot.map(henkilo => <HenkilonTiedot key={henkilo.id} \r\n    henkilo={henkilo} poisto={poisto}/>)\r\n  return suodatetutTiedot\r\n  }\r\n\r\nexport default NaytaHenkilot","import axios from 'axios'\r\nconst kantaUrl = '/api/Henkilot'\r\n\r\nconst noudaHenkilot = () => {\r\n    return axios.get(kantaUrl)\r\n}\r\n\r\nconst lisaaHenkilo = uusiHenkilo => {\r\n    return axios.post(kantaUrl, uusiHenkilo)\r\n}\r\n\r\nconst poistaHenkilo = ({id}) => {\r\n    return axios.delete(kantaUrl+\"/\"+id)\r\n}\r\n\r\nconst paivitaTiedot = henkilo => {\r\n    return axios.put(kantaUrl+\"/\"+henkilo.id, henkilo)\r\n}\r\n\r\nexport default {noudaHenkilot, lisaaHenkilo, poistaHenkilo, paivitaTiedot}","import React from 'react'\r\n\r\nconst Ilmoitus = ({viesti}) => {\r\n    if (viesti === null) {return null}\r\n    return (\r\n        <div className=\"ilmoitus\">\r\n            {viesti}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Ilmoitus","import React, {useState, useEffect} from 'react'\nimport NaytaHenkilot from './components/NaytaHenkilot'\nimport HenkiloKasittely from './services/henkiloKasittely'\nimport Ilmoitus from './components/Ilmoitus'\nimport './index.css'\n\nconst App = (props) => {\n  const [henkilot, setHenkilot] = useState([])\n  const [uusiNimi, setUusiNimi] = useState('')\n  const [uusiNumero, setUusiNumero] = useState('')\n  const [hakuEhto, setHakuEhto] = useState(\"\")\n  const [ilmoitukset, setIlmoitukset] = useState(null)\n\n  useEffect(() => {\n    HenkiloKasittely\n    .noudaHenkilot()\n    .then(response => {\n      console.log('Henkilötiedot noudettu')\n      setHenkilot(response.data)\n    })\n  }, [])\n\n  const paivitaNaytto = () => {\n    HenkiloKasittely \n    .noudaHenkilot()\n    .then(response => {setHenkilot(response.data)\n    })\n  }\n\n  const lisaaNimi = (event) => {\n    event.preventDefault()\n    const henkiloJoListassa = henkilot.filter(henkilo => henkilo.nimi ===uusiNimi)\n    if(henkiloJoListassa.length>0){\n      if (window.confirm(`Nimi ${uusiNimi} on jo luettelossa, päivitetäänkö tiedot?`)){\n        const uusiHenkilo = {\n          nimi: henkiloJoListassa[0].nimi,\n          numero: uusiNumero,\n          id: henkiloJoListassa[0].id\n        }\n        HenkiloKasittely\n        .paivitaTiedot(uusiHenkilo)\n        .then(response => {\n          paivitaNaytto()\n          setIlmoitukset(`Henkilön ${uusiNimi} tiedot päivitetty`)\n          setTimeout(() => {setIlmoitukset(null)}, 5000)\n        })\n        .catch(error => {\n            setIlmoitukset(`Virhe: henkilö poistettu`)\n            setTimeout(() => {setIlmoitukset(null)}, 5000)\n        })\n\n      }\n    }\n    else {\n        const uusiHenkilo = {\n        nimi: uusiNimi,\n        puh: uusiNumero,\n      }\n      HenkiloKasittely\n      .lisaaHenkilo(uusiHenkilo)\n      .then(response => {\n        paivitaNaytto()\n        setIlmoitukset(`Lisätty ${uusiNimi} ${uusiNumero}`)\n        setTimeout(() => {setIlmoitukset(null)}, 5000)\n      })\n    }\n    setUusiNimi('')\n    setUusiNumero('')\n  }\n\n\n  const poistaHenkilo = ({id}) => {\n    if (window.confirm(\"Poistetaanko henkilön tiedot?\")){\n      HenkiloKasittely\n      .poistaHenkilo({id})\n      .then(response => {\n        paivitaNaytto()\n      })\n      setIlmoitukset(`Tiedot poistettu`)\n      setTimeout(() => {setIlmoitukset(null)}, 5000)\n    }\n  }\n\n  const kasitteleNimenMuutos = (event) => {\n    console.log(event.target.value)\n    setUusiNimi(event.target.value)\n  }\n\n  const kasitteleNumeronMuutos = (event) => {\n    console.log(event.target.value)\n    setUusiNumero(event.target.value)\n  }\n\n  const kasitteleHakuMuutos = (event) => {\n    console.log(event.target.value)\n    setHakuEhto(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Puhelinmuistio</h2>\n        <div>Hae yhteystiedoista: <input value={hakuEhto} onChange={kasitteleHakuMuutos}/></div>\n      <form onSubmit = {lisaaNimi}>\n        <h3>Lisää yhteystieto</h3>\n        <div>Nimi:   <input value={uusiNimi} onChange={kasitteleNimenMuutos}/></div>\n        <div>Numero: <input value={uusiNumero} onChange={kasitteleNumeronMuutos}/></div>\n        <div><button type=\"submit\">Lisää</button></div>\n      </form>\n      <Ilmoitus viesti={ilmoitukset} />\n      <h3>Numerot</h3>\n      <ul><NaytaHenkilot henkilot={henkilot} hakuEhto={hakuEhto} poisto={poistaHenkilo}/></ul>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}